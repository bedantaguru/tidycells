% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/infer_helpers_analysis.R
\name{infer_table_blocks}
\alias{infer_table_blocks}
\title{Connected-Component Grouping for 4-Connected Grid Cells}
\usage{
infer_table_blocks(dat, retain_cells_info = FALSE, group_id_tag = NULL)
}
\arguments{
\item{dat}{A \code{data.frame} or \code{tibble} with integer columns \code{'row'} and
\code{'col'}.}

\item{retain_cells_info}{If \code{TRUE}, retains the original \code{cells} class and
structure, allowing for further processing. If \code{FALSE}, returns a simple
\code{data.frame} with 'row', 'col', and 'gid' columns only.}

\item{group_id_tag}{A string prefix for the group id (\code{gid}) column. Default
is \code{"Gr_"} if \code{retain_cells_info} is \code{TRUE}. This is useful for
distinguishing group ids from other ids in the data frame.}
}
\value{
The input data frame with an added character column 'gid' indicating
component membership.
}
\description{
Identifies all 4-connected groups (components) in a data frame of grid cells.
Two cells are considered part of the same group if they are connected via a
path of horizontal or vertical (not diagonal) adjacency. Each group receives
a unique group id (\code{gid}).
}
\details{
The algorithm applies an iterative label-propagation approach, a variant of
the classic Connected-Component Labeling (CCL) algorithm from image
processing and graph theory. Labels are propagated among adjacent cells via
repeated group-wise minimum assignments until all connected cells share the
same id.
\subsection{Underlying Theory This approach is a form of Connected-Component Labeling}{

(CCL), widely used in image analysis to find and label contiguous regions
(components) in an array or grid. The algorithm used here is an iterative
label-propagation method, which merges labels for horizontally and vertically
adjacent runs until each component is uniquely identified. See:
\itemize{
\item https://en.wikipedia.org/wiki/Connected-component_labeling
\item Gonzalez, R. C., & Woods, R. E. (2008). Digital Image Processing (3rd Ed.), Section 2.5.3.
}
}

\subsection{Steps Overview}{\tabular{lll}{
   Step \tab What it does \tab Why \cr
   Row runs \tab Finds horizontally connected contiguous cells; assigns \code{cid} \tab To group cells horizontally \cr
   Col runs \tab Finds vertically connected contiguous cells; assigns \code{rid} \tab To group cells vertically \cr
   Propagate \tab Iteratively spreads minimum label among connected runs \tab To ensure all 4-connected cells are merged into one component \cr
   Stop \tab Ends when no further label changes \tab At this point, grouping is complete \cr
}

}
}
\keyword{internal}
